<div th:fragment="chordSelector" id="chordSelector"
     class="hidden z-[1000] absolute left-0 top-1/2 w-[150px] h-[300px] overflow-y-auto border border-gray-100 p-1 bg-white rounded-lg shadow-lg tracking-normal">

    <script>
        // 기타 코드 데이터
        const chordData = {
            "A 코드": [
                 "A", "A#", "A#7", "A#9", "A#M7", "A#m", "A#m7", "A#sus4", "A13", "A5",
                 "A6", "A7", "A7sus4", "A9", "AM7", "Aadd9", "Aaug", "Ab", "Abm", "Adim",
                 "Am", "Am11", "Am6", "Am7", "Am7/G", "Am9", "Asus2", "Asus4"
            ],
            "B 코드": [
                 "B", "B#", "B#7", "B#9", "B#M7", "B#m", "B#m7", "B#sus4", "B13", "B5",
                 "B6", "B7", "B7sus4", "B9", "BM7", "Badd9", "Baug", "Bb", "Bbm", "Bdim",
                 "Bm", "Bm11", "Bm6", "Bm7", "Bm7/G", "Bm9", "Bsus2", "Bsus4"
            ],
            "C 코드": [
                 "C", "C#", "C#7", "C#9", "C#M7", "C#m", "C#m7", "C#sus4", "C13", "C5",
                 "C6", "C7", "C7sus4", "C9", "CM7", "Cadd9", "Caug", "Cb", "Cbm", "Cdim",
                 "Cm", "Cm11", "Cm6", "Cm7", "Cm7/G", "Cm9", "Csus2", "Csus4"
            ],
            "D 코드": [
                 "D", "D#", "D#7", "D#M7", "D#m", "D#m7", "D#sus4", "D/F#", "D13", "D5",
                 "D6", "D7", "D7sus4", "D9", "DM7", "Dadd9", "Daug", "Db", "Dbm", "Ddim",
                 "Dm", "Dm6", "Dm7", "Dsus2", "Dsus4"
            ],
            "E 코드": [
                 "E", "E#", "E#7", "E#M7", "E#m", "E#m7", "E#sus4", "E13", "E5", "E6",
                 "E7", "E7sus4", "E9", "EM7", "Eadd9", "Eaug", "Eb", "Ebm", "Edim", "Em",
                 "Em6", "Em7", "Esus2", "Esus4"
            ],
            "F 코드": [
                 "F", "F#", "F#7", "F#M7", "F#m", "F#m7", "F#m7-5", "F#sus4", "F13", "F5",
                 "F6", "F7", "F9", "FM7", "Fadd9", "Faug", "Fb", "Fbm", "Fdim", "Fm",
                 "Fm6", "Fm7", "Fsus2", "Fsus4"
            ],
            "G 코드": [
                 "G", "G#", "G#7", "G#M7", "G#m", "G#m7", "G#sus4", "G/B", "G13", "G5",
                 "G6", "G7", "G9", "GM7", "Gadd9", "Gaug", "Gb", "Gbm", "Gdim", "Gm",
                 "Gm6", "Gm7", "Gsus2", "Gsus4"
            ]
        };

        // 코드 선택 박스를 동적으로 생성
        function createChordSelector() {
            const chordSelector = document.getElementById('chordSelector');
            const ulElement = document.createElement('ul');
            ulElement.className = 'menu menu-xs w-full';

            // 코드 삭제 버튼
            const deleteLiElement = document.createElement('li');
            const deleteLinkElement = document.createElement('a');
            deleteLinkElement.textContent = "삭제";
            deleteLinkElement.dataset.chord = null;

            deleteLiElement.appendChild(deleteLinkElement);
            ulElement.appendChild(deleteLiElement);

            // 코드 목록 생성
            Object.keys(chordData).forEach((chordGroup) => {
                const liElement = document.createElement('li');
                const detailsElement = document.createElement('details');

                // B 코드만 open 속성을 추가
                if (chordGroup === "B 코드") {
                    detailsElement.setAttribute('open', 'open');
                }

                const summaryElement = document.createElement('summary');
                summaryElement.textContent = chordGroup;

                // 서브 목록 생성
                const subUlElement = document.createElement('ul');
                chordData[chordGroup].forEach((chord) => {
                    const subLiElement = document.createElement('li');
                    const linkElement = document.createElement('a');
                    linkElement.textContent = chord;
                    subLiElement.appendChild(linkElement);
                    subUlElement.appendChild(subLiElement);
                });

                detailsElement.appendChild(summaryElement);
                detailsElement.appendChild(subUlElement);
                liElement.appendChild(detailsElement);
                ulElement.appendChild(liElement);
            });

            chordSelector.appendChild(ulElement);
        }

        // DOMContentLoaded 이벤트 발생 시 코드 선택 박스를 생성
        document.addEventListener("DOMContentLoaded", createChordSelector);
    </script>
</div>
